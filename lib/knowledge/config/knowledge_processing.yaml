# Knowledge Processing Configuration
# Default configuration for enhanced document processing

# Enable/disable the entire processing pipeline
enabled: true

# Content cleaning configuration
content_cleaning:
  enabled: true                   # Enable content cleaning
  remove_glyph: true              # Remove GLYPH artifacts
  remove_html_comments: true      # Remove HTML comments
  remove_markdown_tables: true    # Remove markdown tables
  fix_ligatures: true             # Fix common ligatures (e.g., Beijing)
  filter_english_only: false      # Filter non-English lines (strict mode)
  min_vowel_tokens: 2             # Minimum vowel-bearing tokens per line

# Document type detection configuration
type_detection:
  use_filename: true              # Use filename patterns for detection
  use_content: true               # Use content keywords for detection
  confidence_threshold: 0.7       # Minimum confidence (0.0-1.0)

# Entity extraction configuration
entity_extraction:
  enabled: true                   # Enable entity extraction
  extract_lessons: true             # Extract dates (multiple formats)
  extract_words: true           # Extract monetary amounts (R$)
  extract_questions: true             # Extract person names
  extract_answers: true     # Extract organization names

# Semantic chunking configuration
chunking:
  method: "semantic"              # Chunking method: "semantic" or "fixed"
  min_size: 500                   # Minimum chunk size (characters)
  max_size: 1500                  # Maximum chunk size (characters)
  overlap: 50                     # Overlap between chunks (characters)
  preserve_tables: true           # Keep tables intact within chunks

# Metadata enrichment configuration
metadata:
  auto_categorize: true           # Automatically categorize documents
  auto_tag: true                  # Automatically generate tags
  detect_business_unit: true      # Detect and assign business unit

# Page-based document splitting for large files
document_splitting:
  enabled: true                    # Enable page-based splitting
  split_by_pages: true             # Split by pages instead of full document
  pages_per_chunk: 5               # Number of pages per document chunk
  max_pages: null                  # Maximum pages to process (null = all)
  create_separate_documents: true  # Create separate database rows per chunk
  page_metadata: true              # Add page range metadata to chunks
